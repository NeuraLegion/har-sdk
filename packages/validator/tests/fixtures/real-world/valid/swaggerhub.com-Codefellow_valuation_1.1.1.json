{
  "openapi": "3.1.0",
  "servers": [
    {
      "description": "Sandbox",
      "url": "https://test-apivaluation.evaluer2.pl/v1"
    },
    {
      "description": "Production url",
      "url": "https://apivaluation.evaluer2.pl/v1"
    }
  ],
  "info": {
    "version": "1.1.1",
    "title": "Comparative Valuation API Documentation",
    "description": "## Overview\nThis API allows users to create and manage property valuations.\n\n## Authentication\nTo authenticate requests to the API, use OAuth2. Obtain an access token and include it in the `Authorization` header of your requests, using the format `Bearer {access_token}`.\n\n## Error Codes\nThe API returns various error codes based on the encountered issues.\n\n| Code | Description |\n|------|-------------|\n| 400  | Bad Request: The request was invalid or cannot be otherwise served. |\n| 401  | Unauthorized: The request lacks valid authentication credentials. |\n| 404  | Not Found: The requested resource could not be found. |\n| 406  | Not Acceptable: The request contains invalid data. |\n| 500  | Internal Server Error: The server encountered an error processing the request. |\n\n## Rate Limiting\n**EVALUER users:**\n   * 300 requests per minute (RPM)\n   * 10,000 requests per day (RPD)\n\nTo avoid exceeding rate limits, ensure your application adheres to these specified values.\n"
  },
  "paths": {
    "/oauth/token": {
      "post": {
        "summary": "Get an access token",
        "requestBody": {
          "required": true,
          "content": {
            "application/x-www-form-urlencoded": {
              "schema": {
                "type": "object",
                "properties": {
                  "username": {
                    "type": "string",
                    "description": "The user's username",
                    "example": "test_user"
                  },
                  "password": {
                    "type": "string",
                    "description": "The user's password",
                    "example": "secret_password"
                  }
                },
                "required": ["username", "password"]
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful operation",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "access_token": {
                      "type": "string",
                      "description": "The access token",
                      "example": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIxMjM0NTY3ODkwIiwibmFtZSI6IkpvaG4gRG9lIiwiaWF0IjoxNTE2MjM5MDIyfQ.SflKxwRJSMeKKF2QT4fwpMeJf36POk6yJV_adQssw5c"
                    },
                    "token_type": {
                      "type": "string",
                      "description": "The type of token",
                      "example": "Bearer"
                    },
                    "expires_in": {
                      "type": "integer",
                      "description": "The time in seconds until the access token expires",
                      "example": 3600
                    }
                  }
                }
              }
            }
          },
          "400": { "description": "Bad Request" },
          "401": { "description": "Unauthorized" }
        }
      }
    },
    "/valuation": {
      "post": {
        "operationId": "valuation/create",
        "security": [{ "BearerAuth": [] }],
        "summary": "Create a new property valuation",
        "description": "Create a new valuation record with the specified parameters. Please note that obligatory fields for each property type are not marked in this documentation. To retrieve the list of required fields based on the property type, use the `/property-types/{id}/required-fields` endpoint.\n",
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "teryt_code": {
                    "type": "string",
                    "maxLength": 15,
                    "description": "TERYT code for SIMC (System of Identifiers and Names of Settlements).",
                    "example": "146518_8.918123"
                  },
                  "ulic_code": {
                    "type": "string",
                    "maxLength": 5,
                    "description": "TERYT code for ULIC (System of Identifiers and Names of Streets).",
                    "example": "05731"
                  },
                  "street_number": {
                    "type": "string",
                    "maxLength": 16,
                    "description": "Street number of the property.",
                    "example": "12"
                  },
                  "local_number": {
                    "type": "string",
                    "maxLength": 8,
                    "description": "Local number of the property.",
                    "example": "8"
                  },
                  "lat": {
                    "type": "number",
                    "format": "float",
                    "description": "Latitude of the property.",
                    "example": 52.23278
                  },
                  "lng": {
                    "type": "number",
                    "format": "float",
                    "description": "Longitude of the property.",
                    "example": 20.961561
                  },
                  "area": {
                    "type": "number",
                    "format": "float",
                    "description": "Area in square meters.",
                    "example": 100.5
                  },
                  "property_type_id": {
                    "type": "integer",
                    "description": "The property type ID, to be retrieved using a separate method.",
                    "example": 2
                  },
                  "market": {
                    "type": "string",
                    "description": "Indicates whether the property is from the primary or secondary market.",
                    "enum": ["secondary", "primary"],
                    "example": "secondary"
                  },
                  "building_year": {
                    "type": "integer",
                    "description": "Year of construction. Must be a four-digit number between 1900 and three years from the current year.",
                    "minimum": 1900,
                    "maximum": 2027,
                    "example": 1995
                  },
                  "floor": {
                    "type": "integer",
                    "description": "Floor on which the property is located.",
                    "example": 3
                  },
                  "number_of_floors": {
                    "type": "integer",
                    "description": "Total number of floors in the building. Minimum is 1, maximum is 120.",
                    "minimum": 1,
                    "maximum": 120,
                    "example": 10
                  },
                  "apartment_standard_id": {
                    "type": "integer",
                    "description": "ID of the apartment standard, to be retrieved via the `/glossary` method with the parameter `apartment_standard`.",
                    "example": 236
                  },
                  "building_technical_condition_id": {
                    "type": "integer",
                    "description": "ID of the building's technical condition, to be retrieved via the `/glossary` method with the parameter `building_technical_condition`.",
                    "example": 237
                  },
                  "building_standard_id": {
                    "type": "integer",
                    "description": "ID of the building's standard, to be retrieved via the `/glossary` method with the parameter `building_standard`.",
                    "example": 237
                  },
                  "price_type": {
                    "type": "string",
                    "description": "Unit of comparison for the price.",
                    "example": "cena_m2_netto"
                  },
                  "document_create_date": {
                    "type": "string",
                    "format": "date",
                    "description": "Date the valuation document was created.",
                    "example": "2024-01-01"
                  },
                  "date": {
                    "type": "string",
                    "format": "date",
                    "description": "Date of the valuation.",
                    "example": "2024-01-01"
                  },
                  "land_use_id": {
                    "type": "integer",
                    "description": "ID of the land use purpose, to be retrieved via the `/glossary` method with the parameter `land_use`.",
                    "example": 234
                  },
                  "purchase_sqm_price": {
                    "type": "number",
                    "format": "float",
                    "description": "Expected purchase price per square meter, or price per PUM/GLA if applicable based on the property type.",
                    "example": 5000.0
                  },
                  "user_email": {
                    "type": "string",
                    "description": "Search for valuations created by a given user.",
                    "example": "testowy.rzeczoznawca@evaluer.pl"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "statusCode": { "type": "integer", "example": 200 },
                    "statusMessage": { "type": "string", "example": "OK" },
                    "data": { "$ref": "#/components/schemas/Valuation" }
                  }
                }
              }
            }
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "statusCode": {
                      "type": "integer",
                      "description": "HTTP status code for the error.",
                      "example": 400
                    },
                    "statusMessage": {
                      "type": "string",
                      "description": "A message describing the error.",
                      "example": "Bad Request"
                    },
                    "date": {
                      "type": "object",
                      "description": "Additional details about the error.",
                      "properties": {
                        "unknown_fields": {
                          "type": "object",
                          "description": "Contains fields that caused the error and their corresponding issues.",
                          "additionalProperties": { "type": "string" },
                          "example": { "floors": "" }
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "401": { "description": "Unauthorized" },
          "406": {
            "description": "Not Acceptable",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "statusCode": { "type": "integer", "example": 406 },
                    "statusMessage": {
                      "type": "string",
                      "example": "Not Acceptable"
                    },
                    "date": {
                      "type": "object",
                      "properties": {
                        "teryt_code": {
                          "type": "array",
                          "items": { "type": "string" },
                          "example": [
                            "Teryt Code nie może pozostać bez wartości."
                          ]
                        },
                        "date": {
                          "type": "array",
                          "items": { "type": "string" },
                          "example": ["Date nie może pozostać bez wartości."]
                        },
                        "document_create_date": {
                          "type": "array",
                          "items": { "type": "string" },
                          "example": [
                            "Document Create Date nie może pozostać bez wartości."
                          ]
                        },
                        "area": {
                          "type": "array",
                          "items": { "type": "string" },
                          "example": ["Area musi wynosić nie mniej niż 5."]
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "404": { "description": "Not Found" }
        }
      }
    },
    "/valuations": {
      "get": {
        "summary": "Get list of valuations available to the user",
        "description": "Retrieve a list of valuations created by or available to the authenticated user.",
        "security": [{ "BearerAuth": [] }],
        "parameters": [
          {
            "in": "query",
            "name": "page_size",
            "schema": {
              "type": "integer",
              "description": "The number of items per page.",
              "minimum": 5,
              "maximum": 100
            },
            "example": 10
          },
          {
            "in": "query",
            "name": "page",
            "schema": {
              "type": "integer",
              "description": "The page number to retrieve.",
              "example": 1
            }
          },
          {
            "in": "query",
            "name": "sort",
            "schema": {
              "type": "string",
              "description": "Sort by a specific attribute. Use '-' for descending order.",
              "enum": ["id", "-id", "date", "-date"]
            },
            "example": "-date"
          },
          {
            "in": "query",
            "name": "user_email",
            "schema": {
              "type": "string",
              "description": "Search for valuations created by a given user.",
              "example": "testowy.rzeczoznawca@evaluer.pl"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "A list of valuations available to the user.",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "status_code": { "type": "integer", "example": 200 },
                    "status_message": { "type": "string", "example": "OK" },
                    "data": {
                      "type": "array",
                      "items": {
                        "type": "object",
                        "properties": {
                          "id": {
                            "type": "integer",
                            "description": "Unique identifier of the valuation.",
                            "example": 123
                          },
                          "date_created": {
                            "type": "string",
                            "format": "date-time",
                            "description": "The date the valuation was created.",
                            "example": "2024-01-01T10:15:30Z"
                          },
                          "date_updated": {
                            "type": "string",
                            "format": "date-time",
                            "description": "The date the valuation was last updated.",
                            "example": "2024-01-02T14:22:50Z"
                          },
                          "status": {
                            "type": "string",
                            "description": "The current status of the valuation.",
                            "enum": ["new", "draft", "saved"],
                            "example": "completed"
                          },
                          "price_total": {
                            "type": "number",
                            "format": "float",
                            "description": "Total price of the property.",
                            "example": 805050.0
                          },
                          "price_sqm": {
                            "type": "number",
                            "format": "float",
                            "description": "Price per square meter of the property.",
                            "example": 8000.5
                          },
                          "teryt_code": {
                            "type": "string",
                            "description": "TERYT code for SIMC.",
                            "example": "146518_8.918123"
                          },
                          "ulic_code": {
                            "type": "string",
                            "description": "TERYT code for ULIC.",
                            "example": "05731"
                          },
                          "street_number": {
                            "type": "string",
                            "description": "Street number of the property.",
                            "example": "12"
                          },
                          "local_number": {
                            "type": "string",
                            "description": "Local number of the property.",
                            "example": "8"
                          },
                          "area": {
                            "type": "number",
                            "format": "float",
                            "description": "Area of the property in square meters.",
                            "example": 100.5
                          },
                          "property_type_id": {
                            "type": "integer",
                            "description": "ID of the property type.",
                            "example": 2
                          },
                          "method": {
                            "type": "string",
                            "description": "Valuation method used.",
                            "enum": ["pariwise", "adjusting"],
                            "example": "adjusting"
                          }
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "400": { "description": "Bad Request" },
          "401": { "description": "Unauthorized" },
          "404": {
            "description": "Valuation not found",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "status_code": { "type": "integer", "example": 404 },
                    "status_message": {
                      "type": "string",
                      "example": "Not Found"
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/valuation/{id}": {
      "get": {
        "summary": "Get valuation details by ID",
        "description": "Retrieve the details of a valuation based on its unique identifier.",
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": { "type": "integer" },
            "description": "The unique identifier of the valuation.",
            "example": 123
          }
        ],
        "responses": {
          "200": {
            "description": "Valuation details retrieved successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "statusCode": { "type": "integer", "example": 200 },
                    "statusMessage": { "type": "string", "example": "OK" },
                    "data": {
                      "type": "object",
                      "properties": {
                        "id": {
                          "type": "integer",
                          "description": "Unique identifier of the valuation.",
                          "example": 202935
                        },
                        "teryt_code": {
                          "type": "string",
                          "description": "TERYT code for SIMC.",
                          "example": "146518_8.0919884"
                        },
                        "ulic_code": {
                          "type": "string",
                          "description": "TERYT code for ULIC.",
                          "example": "05731"
                        },
                        "street_number": {
                          "type": "integer",
                          "description": "Street number of the property.",
                          "example": 3
                        },
                        "local_number": {
                          "type": "integer",
                          "description": "Local number of the property.",
                          "example": 100
                        },
                        "lat": {
                          "type": "number",
                          "format": "float",
                          "description": "Latitude of the property.",
                          "example": 52.224548
                        },
                        "lng": {
                          "type": "number",
                          "format": "float",
                          "description": "Longitude of the property.",
                          "example": 20.940668
                        },
                        "area": {
                          "type": "number",
                          "format": "float",
                          "description": "Area of the property in square meters.",
                          "example": 50
                        },
                        "property_type_id": {
                          "type": "integer",
                          "description": "The property type ID.",
                          "example": 1
                        },
                        "building_year": {
                          "type": "integer",
                          "description": "Year of construction.",
                          "example": 2021
                        },
                        "floor": {
                          "type": "integer",
                          "description": "The floor on which the property is located.",
                          "example": 4
                        },
                        "number_of_floors": {
                          "type": "integer",
                          "description": "Number of floors in the building.",
                          "example": 8
                        },
                        "apartment_standard_id": {
                          "type": "integer",
                          "description": "ID for the apartment standard.",
                          "example": 63035
                        },
                        "building_technical_condition_id": {
                          "type": "integer",
                          "nullable": true,
                          "description": "ID for the building's technical condition.",
                          "example": null
                        },
                        "building_standard_id": {
                          "type": "integer",
                          "nullable": true,
                          "description": "ID for the building's standard.",
                          "example": null
                        },
                        "price_type": {
                          "type": "string",
                          "description": "Price comparison type.",
                          "example": "cena_m2_netto"
                        },
                        "document_create_date": {
                          "type": "string",
                          "format": "date",
                          "description": "Date when the document was created.",
                          "example": "2024-12-10"
                        },
                        "date": {
                          "type": "string",
                          "format": "date",
                          "description": "Date associated with the valuation.",
                          "example": "2024-12-09"
                        },
                        "land_use_id": {
                          "type": "integer",
                          "nullable": true,
                          "description": "Land use ID.",
                          "example": null
                        },
                        "purchase_sqm_price": {
                          "type": "number",
                          "format": "float",
                          "nullable": true,
                          "description": "Purchase price per square meter.",
                          "example": null
                        },
                        "market": {
                          "type": "string",
                          "description": "Indicates the market type (primary or secondary).",
                          "example": "secondary"
                        },
                        "price_sqm": {
                          "type": "number",
                          "format": "float",
                          "description": "Price per square meter for the property.",
                          "example": 21739.99
                        },
                        "price_total": {
                          "type": "number",
                          "format": "float",
                          "description": "Total price of the property.",
                          "example": 1086999.43
                        },
                        "price_rounded": {
                          "type": "number",
                          "format": "integer",
                          "description": "Rounded total price of the property.",
                          "example": 1090000
                        },
                        "data_created": {
                          "type": "string",
                          "format": "date-time",
                          "description": "Date when the valuation was created.",
                          "example": "2024-12-15 12:29:15"
                        },
                        "date_updated": {
                          "type": "string",
                          "format": "date-time",
                          "description": "Date when the valuation was last updated.",
                          "example": "2024-12-15 12:30:32"
                        },
                        "status": {
                          "type": "string",
                          "description": "Current status of the valuation.",
                          "example": "completed"
                        },
                        "method": {
                          "type": "string",
                          "description": "Valuation method used.",
                          "example": "pairwise-comparison"
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "400": { "description": "Bad Request" },
          "404": {
            "description": "Valuation not found",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "statusCode": { "type": "integer", "example": 404 },
                    "statusMessage": {
                      "type": "string",
                      "example": "Not Found"
                    },
                    "date": {
                      "type": "object",
                      "properties": {
                        "name": {
                          "type": "string",
                          "description": "Error name.",
                          "example": "Not Found"
                        },
                        "message": {
                          "type": "string",
                          "description": "Error message.",
                          "example": ""
                        },
                        "code": {
                          "type": "integer",
                          "description": "Error code.",
                          "example": 0
                        },
                        "status": {
                          "type": "integer",
                          "description": "HTTP status code.",
                          "example": 404
                        },
                        "type": {
                          "type": "string",
                          "description": "Type of exception.",
                          "example": "yii\\web\\NotFoundHttpException"
                        }
                      }
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/valuation/{id}/deals": {
      "get": {
        "summary": "Get reference deals for a specific valuation",
        "description": "Retrieve a list of reference deals related to the specified valuation ID.",
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": { "type": "integer" },
            "description": "The unique identifier of the valuation.",
            "example": 123
          }
        ],
        "responses": {
          "200": {
            "description": "A list of reference deals for the specified valuation.",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "statusCode": { "type": "integer", "example": 200 },
                    "statusMessage": { "type": "string", "example": "OK" },
                    "data": {
                      "type": "array",
                      "items": {
                        "type": "object",
                        "properties": {
                          "id": {
                            "type": "integer",
                            "description": "Unique identifier of the reference deal.",
                            "example": 3972115
                          },
                          "date": {
                            "type": "string",
                            "format": "date",
                            "description": "Date of the deal (Y-m-d format).",
                            "example": "2024-03-05"
                          },
                          "street_number": {
                            "type": "string",
                            "description": "Street number of the reference property.",
                            "example": "19"
                          },
                          "area": {
                            "type": "number",
                            "format": "float",
                            "description": "Area of the reference property in square meters.",
                            "example": 57.13
                          },
                          "teryt_code": {
                            "type": "string",
                            "maxLength": 15,
                            "description": "TERYT code for SIMC (System of Identifiers and Names of Settlements).",
                            "example": "146518_8.0919884"
                          },
                          "ulic_code": {
                            "type": "string",
                            "maxLength": 5,
                            "description": "TERYT code for ULIC (System of Identifiers and Names of Streets).",
                            "example": "07117"
                          },
                          "price_net_total": {
                            "type": "number",
                            "format": "float",
                            "description": "Total net price of the reference deal.",
                            "example": 1130000
                          },
                          "price_net_sqm": {
                            "type": "number",
                            "format": "float",
                            "description": "Net price per square meter in the reference deal.",
                            "example": 19779.45
                          },
                          "price_gross_total": {
                            "type": "number",
                            "format": "float",
                            "description": "Total gross price of the reference deal.",
                            "example": 1130000
                          },
                          "price_gross_sqm": {
                            "type": "number",
                            "format": "float",
                            "description": "Gross price per square meter in the reference deal.",
                            "example": 19779.45
                          }
                        }
                      }
                    }
                  }
                },
                "examples": {
                  "withData": {
                    "summary": "Example with reference deals",
                    "description": "Response when reference deals are found.",
                    "value": {
                      "statusCode": 200,
                      "statusMessage": "OK",
                      "data": [
                        {
                          "id": 3972115,
                          "date": "2024-03-05",
                          "street_number": "19",
                          "area": 57.13,
                          "teryt_code": "146518_8.0919884",
                          "ulic_code": "07117",
                          "price_net_total": 1130000,
                          "price_net_sqm": 19779.45,
                          "price_gross_total": 1130000,
                          "price_gross_sqm": 19779.45
                        },
                        {
                          "id": 4028612,
                          "date": "2024-03-25",
                          "street_number": "32A",
                          "area": 40.62,
                          "teryt_code": "146518_8.0919884",
                          "ulic_code": "07117",
                          "price_net_total": 920000,
                          "price_net_sqm": 22648.94,
                          "price_gross_total": 920000,
                          "price_gross_sqm": 22648.94
                        }
                      ]
                    }
                  },
                  "noData": {
                    "summary": "Example with no reference deals found",
                    "description": "Response when no reference deals are found.",
                    "value": { "statusCode": 200, "statusMessage": "OK" }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/valuation/{id}/poi": {
      "get": {
        "summary": "Get Points of Interest (POI) distances for a specific valuation",
        "description": "Retrieve distances to various Points of Interest (POI) related to the specified valuation ID.",
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": { "type": "integer" },
            "description": "The unique identifier of the valuation.",
            "example": 123
          }
        ],
        "responses": {
          "200": {
            "description": "A list of distances to Points of Interest (POI) or a message indicating no POI were found.  Check schema to see all POI types. The attributes `visible_view` and `visible_pdf` provide additional information about the visibility of each POI: - `visible_view`: Indicates that the POI is displayed in the valuation details in the Evaluer app. - `visible_pdf`: Indicates that the POI is included in the PDF generated from the valuation in the Evaluer app.\n",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "statusCode": { "type": "integer", "example": 200 },
                    "statusMessage": { "type": "string", "example": "OK" },
                    "data": {
                      "oneOf": [
                        {
                          "type": "object",
                          "properties": {
                            "city_centre": {
                              "type": "object",
                              "properties": {
                                "id": { "type": "integer", "example": 685 },
                                "distance": {
                                  "type": "number",
                                  "format": "float",
                                  "example": 4.588
                                },
                                "name": {
                                  "type": "string",
                                  "example": "Warszawa"
                                },
                                "visible_view": {
                                  "type": "boolean",
                                  "example": true
                                },
                                "visible_pdf": {
                                  "type": "boolean",
                                  "example": false
                                }
                              }
                            },
                            "tram": {
                              "type": "object",
                              "properties": {
                                "id": { "type": "integer", "example": 125960 },
                                "distance": {
                                  "type": "number",
                                  "format": "float",
                                  "example": 0.238
                                },
                                "name": {
                                  "type": "string",
                                  "example": "Reduta Wolska 06"
                                },
                                "visible_view": {
                                  "type": "boolean",
                                  "example": true
                                },
                                "visible_pdf": {
                                  "type": "boolean",
                                  "example": true
                                }
                              }
                            },
                            "train": {
                              "type": "object",
                              "properties": {
                                "id": { "type": "integer", "example": 104619 },
                                "distance": {
                                  "type": "number",
                                  "format": "float",
                                  "example": 1.221
                                },
                                "name": {
                                  "type": "string",
                                  "example": "Warszawa Reduta Ordona 01"
                                },
                                "visible_view": {
                                  "type": "boolean",
                                  "example": true
                                },
                                "visible_pdf": {
                                  "type": "boolean",
                                  "example": true
                                }
                              }
                            },
                            "bus": {
                              "type": "object",
                              "properties": {
                                "id": { "type": "integer", "example": 192649 },
                                "distance": {
                                  "type": "number",
                                  "format": "float",
                                  "example": 0.123
                                },
                                "name": {
                                  "type": "string",
                                  "example": "Goleszowska 01"
                                },
                                "visible_view": {
                                  "type": "boolean",
                                  "example": true
                                },
                                "visible_pdf": {
                                  "type": "boolean",
                                  "example": true
                                }
                              }
                            },
                            "subway_m1": {
                              "type": "object",
                              "properties": {
                                "id": { "type": "integer", "example": 174646 },
                                "distance": {
                                  "type": "number",
                                  "format": "float",
                                  "example": 4.71
                                },
                                "name": {
                                  "type": "string",
                                  "example": "Ratusz Arsenał"
                                },
                                "visible_view": {
                                  "type": "boolean",
                                  "example": true
                                },
                                "visible_pdf": {
                                  "type": "boolean",
                                  "example": true
                                }
                              }
                            },
                            "subway_m2": {
                              "type": "object",
                              "properties": {
                                "id": { "type": "integer", "example": 114315 },
                                "distance": {
                                  "type": "number",
                                  "format": "float",
                                  "example": 1.641
                                },
                                "name": {
                                  "type": "string",
                                  "example": "Księcia Janusza"
                                },
                                "visible_view": {
                                  "type": "boolean",
                                  "example": true
                                },
                                "visible_pdf": {
                                  "type": "boolean",
                                  "example": true
                                }
                              }
                            },
                            "park": {
                              "type": "object",
                              "properties": {
                                "id": { "type": "integer", "example": 2295 },
                                "distance": {
                                  "type": "number",
                                  "format": "float",
                                  "example": 0.195
                                },
                                "name": {
                                  "type": "string",
                                  "example": "Park Powstańców Warszawy"
                                },
                                "visible_view": {
                                  "type": "boolean",
                                  "example": true
                                },
                                "visible_pdf": {
                                  "type": "boolean",
                                  "example": true
                                }
                              }
                            },
                            "mall": {
                              "type": "object",
                              "properties": {
                                "id": { "type": "integer", "example": 43 },
                                "distance": {
                                  "type": "number",
                                  "format": "float",
                                  "example": 1.32
                                },
                                "name": {
                                  "type": "string",
                                  "example": "Atrium Reduta"
                                },
                                "visible_view": {
                                  "type": "boolean",
                                  "example": true
                                },
                                "visible_pdf": {
                                  "type": "boolean",
                                  "example": false
                                }
                              }
                            },
                            "supermarket": {
                              "type": "object",
                              "properties": {
                                "id": { "type": "integer", "example": 507 },
                                "distance": {
                                  "type": "number",
                                  "format": "float",
                                  "example": 1.23
                                },
                                "name": {
                                  "type": "string",
                                  "example": "Biedronka"
                                },
                                "visible_view": {
                                  "type": "boolean",
                                  "example": true
                                },
                                "visible_pdf": {
                                  "type": "boolean",
                                  "example": false
                                }
                              }
                            },
                            "kindergarten": {
                              "type": "object",
                              "properties": {
                                "id": { "type": "integer", "example": 11289 },
                                "distance": {
                                  "type": "number",
                                  "format": "float",
                                  "example": 0.331
                                },
                                "name": {
                                  "type": "string",
                                  "example": "Przedszkole nr 426"
                                },
                                "visible_view": {
                                  "type": "boolean",
                                  "example": true
                                },
                                "visible_pdf": {
                                  "type": "boolean",
                                  "example": false
                                }
                              }
                            },
                            "school": {
                              "type": "object",
                              "properties": {
                                "id": { "type": "integer", "example": 943 },
                                "distance": {
                                  "type": "number",
                                  "format": "float",
                                  "example": 0.887
                                },
                                "name": {
                                  "type": "string",
                                  "example": "Szkoła Podstawowa nr 132 im. Sándora Petőfiego"
                                },
                                "visible_view": {
                                  "type": "boolean",
                                  "example": true
                                },
                                "visible_pdf": {
                                  "type": "boolean",
                                  "example": false
                                }
                              }
                            },
                            "university": {
                              "type": "object",
                              "properties": {
                                "id": { "type": "integer", "example": 1498 },
                                "distance": {
                                  "type": "number",
                                  "format": "float",
                                  "example": 0.351
                                },
                                "name": {
                                  "type": "string",
                                  "example": "Wyższa Szkoła Rehabilitacji"
                                },
                                "visible_view": {
                                  "type": "boolean",
                                  "example": true
                                },
                                "visible_pdf": {
                                  "type": "boolean",
                                  "example": false
                                }
                              }
                            },
                            "power_line": {
                              "type": "object",
                              "properties": {
                                "id": { "type": "integer", "example": 19008 },
                                "distance": {
                                  "type": "number",
                                  "format": "float",
                                  "example": 0.524
                                },
                                "name": { "type": "string", "example": "" },
                                "visible_view": {
                                  "type": "boolean",
                                  "example": true
                                },
                                "visible_pdf": {
                                  "type": "boolean",
                                  "example": false
                                }
                              }
                            },
                            "factory": {
                              "type": "object",
                              "properties": {
                                "id": { "type": "integer", "example": 432 },
                                "distance": {
                                  "type": "number",
                                  "format": "float",
                                  "example": 0.107
                                },
                                "name": { "type": "string", "example": "" },
                                "visible_view": {
                                  "type": "boolean",
                                  "example": true
                                },
                                "visible_pdf": {
                                  "type": "boolean",
                                  "example": false
                                }
                              }
                            },
                            "highway": {
                              "type": "object",
                              "properties": {
                                "id": { "type": "integer", "example": 4084 },
                                "distance": {
                                  "type": "number",
                                  "format": "float",
                                  "example": 7.956
                                },
                                "name": { "type": "string", "example": "A2" },
                                "visible_view": {
                                  "type": "boolean",
                                  "example": true
                                },
                                "visible_pdf": {
                                  "type": "boolean",
                                  "example": false
                                }
                              }
                            },
                            "motorway": {
                              "type": "object",
                              "properties": {
                                "id": { "type": "integer", "example": 1068 },
                                "distance": {
                                  "type": "number",
                                  "format": "float",
                                  "example": 2.727
                                },
                                "name": { "type": "string", "example": "S8" },
                                "visible_view": {
                                  "type": "boolean",
                                  "example": true
                                },
                                "visible_pdf": {
                                  "type": "boolean",
                                  "example": false
                                }
                              }
                            },
                            "cemetery": {
                              "type": "object",
                              "properties": {
                                "id": { "type": "integer", "example": 3325 },
                                "distance": {
                                  "type": "number",
                                  "format": "float",
                                  "example": 0.408
                                },
                                "name": {
                                  "type": "string",
                                  "example": "Cmentarz Wolski"
                                },
                                "visible_view": {
                                  "type": "boolean",
                                  "example": true
                                },
                                "visible_pdf": {
                                  "type": "boolean",
                                  "example": false
                                }
                              }
                            },
                            "small_airport": {
                              "type": "object",
                              "properties": {
                                "id": { "type": "integer", "example": 162 },
                                "distance": {
                                  "type": "number",
                                  "format": "float",
                                  "example": 3.966
                                },
                                "name": {
                                  "type": "string",
                                  "example": "Lotnisko Warszawa-Babice"
                                },
                                "visible_view": {
                                  "type": "boolean",
                                  "example": true
                                },
                                "visible_pdf": {
                                  "type": "boolean",
                                  "example": false
                                }
                              }
                            },
                            "big_airport": {
                              "type": "object",
                              "properties": {
                                "id": { "type": "integer", "example": 200 },
                                "distance": {
                                  "type": "number",
                                  "format": "float",
                                  "example": 4.682
                                },
                                "name": {
                                  "type": "string",
                                  "example": "Lotnisko Chopina"
                                },
                                "visible_view": {
                                  "type": "boolean",
                                  "example": true
                                },
                                "visible_pdf": {
                                  "type": "boolean",
                                  "example": false
                                }
                              }
                            },
                            "military_airport": {
                              "type": "object",
                              "properties": {
                                "id": { "type": "integer", "example": 6 },
                                "distance": {
                                  "type": "number",
                                  "format": "float",
                                  "example": 5.61
                                },
                                "name": {
                                  "type": "string",
                                  "example": "1. Baza Lotnictwa Transportowego"
                                },
                                "visible_view": {
                                  "type": "boolean",
                                  "example": true
                                },
                                "visible_pdf": {
                                  "type": "boolean",
                                  "example": false
                                }
                              }
                            },
                            "river": {
                              "type": "object",
                              "properties": {
                                "id": { "type": "integer", "example": 5186 },
                                "distance": {
                                  "type": "number",
                                  "format": "float",
                                  "example": 5.971
                                },
                                "name": { "type": "string", "example": "" },
                                "visible_view": {
                                  "type": "boolean",
                                  "example": true
                                },
                                "visible_pdf": {
                                  "type": "boolean",
                                  "example": false
                                }
                              }
                            },
                            "lake": {
                              "type": "object",
                              "properties": {
                                "id": { "type": "integer", "example": 186 },
                                "distance": {
                                  "type": "number",
                                  "format": "float",
                                  "example": 11.573
                                },
                                "name": {
                                  "type": "string",
                                  "example": "Jezioro Wilanowskie"
                                },
                                "visible_view": {
                                  "type": "boolean",
                                  "example": true
                                },
                                "visible_pdf": {
                                  "type": "boolean",
                                  "example": false
                                }
                              }
                            },
                            "sea": {
                              "type": "object",
                              "properties": {
                                "id": { "type": "integer", "example": 8781 },
                                "distance": {
                                  "type": "number",
                                  "format": "float",
                                  "example": 237.454
                                },
                                "name": { "type": "string", "example": "" },
                                "visible_view": {
                                  "type": "boolean",
                                  "example": true
                                },
                                "visible_pdf": {
                                  "type": "boolean",
                                  "example": false
                                }
                              }
                            },
                            "other_water": {
                              "type": "object",
                              "properties": {
                                "id": { "type": "integer", "example": 10624 },
                                "distance": {
                                  "type": "number",
                                  "format": "float",
                                  "example": 0.376
                                },
                                "name": { "type": "string", "example": "" },
                                "visible_view": {
                                  "type": "boolean",
                                  "example": true
                                },
                                "visible_pdf": {
                                  "type": "boolean",
                                  "example": false
                                }
                              }
                            },
                            "railway": {
                              "type": "object",
                              "properties": {
                                "id": { "type": "integer", "example": 3069 },
                                "distance": {
                                  "type": "number",
                                  "format": "float",
                                  "example": 0.518
                                },
                                "name": { "type": "string", "example": "" },
                                "visible_view": {
                                  "type": "boolean",
                                  "example": true
                                },
                                "visible_pdf": {
                                  "type": "boolean",
                                  "example": false
                                }
                              }
                            }
                          }
                        },
                        {
                          "type": "object",
                          "properties": {
                            "message": {
                              "type": "string",
                              "example": "Zapytanie zakończone sukcesem, ale nie znaleziono punktów POI powiązanych z wyceną. System przetwarza wyszukiwanie POI w kolejce. Spróbuj później."
                            }
                          }
                        }
                      ]
                    }
                  }
                },
                "examples": {
                  "withData": {
                    "summary": "Example with POI found",
                    "value": {
                      "statusCode": 200,
                      "statusMessage": "OK",
                      "data": {
                        "city_centre": {
                          "id": 685,
                          "distance": 4.588,
                          "name": "Warszawa",
                          "visible_view": true,
                          "visible_pdf": false
                        },
                        "tram": {
                          "id": 125960,
                          "distance": 0.238,
                          "name": "Reduta Wolska 06",
                          "visible_view": true,
                          "visible_pdf": true
                        },
                        "train": {
                          "id": 104619,
                          "distance": 1.221,
                          "name": "Warszawa Reduta Ordona 01",
                          "visible_view": true,
                          "visible_pdf": true
                        }
                      }
                    }
                  },
                  "noData": {
                    "summary": "Example with no POI found",
                    "value": {
                      "statusCode": 200,
                      "statusMessage": "OK",
                      "data": {
                        "message": "Zapytanie zakończone sukcesem, ale nie znaleziono punktów POI powiązanych z wyceną. System przetwarza wyszukiwanie POI w kolejce. Spróbuj później."
                      }
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/property-types": {
      "get": {
        "summary": "Get property types",
        "description": "Retrieve a list of property types with their ID and name.",
        "responses": {
          "200": {
            "description": "A list of property types",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "statusCode": { "type": "integer", "example": 200 },
                    "statusMessage": { "type": "string", "example": "OK" },
                    "data": {
                      "type": "array",
                      "items": {
                        "type": "object",
                        "properties": {
                          "id": {
                            "type": "integer",
                            "description": "The ID of the property type",
                            "example": 1
                          },
                          "name": {
                            "type": "string",
                            "description": "The name of the property type",
                            "example": "Lokale mieszkalne"
                          }
                        }
                      }
                    }
                  }
                },
                "example": {
                  "statusCode": 200,
                  "statusMessage": "OK",
                  "data": [
                    { "id": 1, "name": "Lokale mieszkalne" },
                    { "id": 2, "name": "Lokale użytkowe" },
                    { "id": 3, "name": "Pomieszczenia gospodarcze" },
                    { "id": 6, "name": "Grunty pod zabudowę" },
                    { "id": 7, "name": "Grunty rolne" },
                    { "id": 8, "name": "Grunty leśne" },
                    { "id": 9, "name": "Budynki mieszkalne wielorodzinne" },
                    { "id": 10, "name": "Nieruchomości biurowe" },
                    { "id": 11, "name": "Magazyny/Centra logistyczne" },
                    { "id": 13, "name": "Nieruchomości przemysłowe" },
                    { "id": 14, "name": "Nieruchomości zaplecza motoryzacji" },
                    { "id": 15, "name": "Stacje paliw" },
                    { "id": 16, "name": "Nieruchomości sportowe/rekreacyjne" },
                    { "id": 17, "name": "Obiekty kultury i sztuki" },
                    { "id": 18, "name": "Hotele/Aparthotele/Motele" },
                    { "id": 19, "name": "Obiekty opieki medycznej" },
                    { "id": 20, "name": "Oczyszczalnie ścieków" },
                    { "id": 21, "name": "Stacje uzdatniania wody" },
                    { "id": 22, "name": "Wysypiska śmieci" },
                    {
                      "id": 23,
                      "name": "Nieruchomości rolnicze i zaplecza rolniczego"
                    },
                    { "id": 24, "name": "Nieruchomości innego typu" },
                    { "id": 26, "name": "Dwory/Pałace" },
                    { "id": 29, "name": "Hostele/Prywatne akademiki" },
                    { "id": 31, "name": "Stacje transformatorowe" },
                    { "id": 32, "name": "Domki letniskowe" },
                    { "id": 33, "name": "Obiekty wypoczynkowe" },
                    { "id": 34, "name": "Obiekty oświaty" },
                    { "id": 35, "name": "Nieruchomości handlowe/usługowe" },
                    { "id": 60, "name": "Budynki garażowe" },
                    { "id": 65, "name": "Budynki mieszkalne jednorodzinne" },
                    { "id": 66, "name": "Odnawialne Źródło Energii" }
                  ]
                }
              }
            }
          },
          "500": { "description": "Internal server error" }
        }
      }
    },
    "/property-types/{id}/required-fields": {
      "get": {
        "summary": "Get required fields for a specific property type",
        "description": "Retrieve a list of required fields that must be provided when creating a valuation for a given property type.",
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": { "type": "integer" },
            "description": "The ID of the property type.",
            "example": 6
          }
        ],
        "responses": {
          "200": {
            "description": "A list of required fields for the specified property type.",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "status_code": { "type": "integer", "example": 200 },
                    "status_message": { "type": "string", "example": "OK" },
                    "data": {
                      "type": "array",
                      "items": { "type": "string" },
                      "example": [
                        "teryt_code",
                        "area",
                        "price_type",
                        "document_create_date",
                        "date"
                      ]
                    }
                  }
                }
              }
            }
          },
          "404": {
            "description": "Property type not found",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "statusCode": { "type": "integer", "example": 404 },
                    "statusMessage": {
                      "type": "string",
                      "example": "Not Found"
                    },
                    "date": {
                      "type": "object",
                      "properties": {
                        "name": {
                          "type": "string",
                          "description": "Name of the error.",
                          "example": "Not Found"
                        },
                        "message": {
                          "type": "string",
                          "description": "Detailed error message.",
                          "example": "Property type not found"
                        },
                        "code": {
                          "type": "integer",
                          "description": "Error code.",
                          "example": 0
                        },
                        "status": {
                          "type": "integer",
                          "description": "HTTP status code.",
                          "example": 404
                        },
                        "type": {
                          "type": "string",
                          "description": "Type of the exception.",
                          "example": "yii\\web\\NotFoundHttpException"
                        }
                      }
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/glossary": {
      "get": {
        "summary": "Get dictionary values for a specific attribute",
        "description": "Retrieve a list of available options (ID and name) for a given attribute.",
        "parameters": [
          {
            "in": "query",
            "name": "attribute",
            "required": true,
            "schema": {
              "type": "string",
              "enum": [
                "apartment_standard",
                "building_technical_condition",
                "building_standard",
                "land_use",
                "price_type"
              ]
            },
            "description": "The attribute name for which to retrieve the dictionary values.",
            "example": "apartment_standard"
          }
        ],
        "responses": {
          "200": {
            "description": "A list of dictionary values for the specified attribute",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "statusCode": { "type": "integer", "example": 200 },
                    "statusMessage": { "type": "string", "example": "OK" },
                    "data": {
                      "type": "array",
                      "items": {
                        "type": "object",
                        "properties": {
                          "id": {
                            "type": "integer",
                            "description": "The ID of the dictionary value",
                            "example": 237
                          },
                          "name": {
                            "type": "string",
                            "description": "The name of the dictionary value",
                            "example": "Podwyższony"
                          }
                        }
                      }
                    }
                  }
                },
                "examples": {
                  "example1": {
                    "summary": "Example response for apartment_standard",
                    "value": {
                      "statusCode": 200,
                      "statusMessage": "OK",
                      "data": [
                        { "id": 237, "name": "Podwyższony" },
                        { "id": 63035, "name": "Bardzo dobry" },
                        { "id": 236, "name": "Dobry" },
                        { "id": 235, "name": "Deweloperski" },
                        { "id": 234, "name": "Do remontu" },
                        { "id": 29053, "name": "Brak informacji" }
                      ]
                    }
                  },
                  "example2": {
                    "summary": "Example response for price_data",
                    "value": {
                      "statusCode": 200,
                      "statusMessage": "OK",
                      "data": [
                        {
                          "key": "cena_m2_netto",
                          "name": "Cena m2 zakupu netto"
                        },
                        {
                          "key": "cena_m2_brutto",
                          "name": "Cena m2 zakupu brutto"
                        },
                        { "key": "cena_netto", "name": "Cena całk. netto" },
                        { "key": "cena_brutto", "name": "Cena całk. brutto" },
                        {
                          "key": "cena_netto_laczna_m2_3732",
                          "name": "Łączna cena m2 zakupu netto"
                        },
                        {
                          "key": "cena_brutto_laczna_m2_3039",
                          "name": "Łączna cena m2 zakupu brutto"
                        },
                        {
                          "key": "cena_gla_potencjalny_7385",
                          "name": "Cena/GLA zakupu"
                        },
                        {
                          "key": "cena_pum_potencjalny_m2_1028",
                          "name": "Cena/PUM zakupu"
                        }
                      ]
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "statusCode": { "type": "integer", "example": 406 },
                    "statusMessage": {
                      "type": "string",
                      "example": "Not Acceptable"
                    },
                    "date": {
                      "type": "object",
                      "properties": {
                        "error": {
                          "type": "string",
                          "example": "Nieprawidłowy parametr 'attribute'. Dozwolone wartości to: apartment_standard, land_use, building_technical_condition, building_standard, price_type."
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "500": { "description": "Internal server error" }
        }
      }
    },
    "/report/{id}": {
      "get": {
        "summary": "Get report data by ID",
        "description": "Retrieve a report and its associated data using the report's ID. The report must be previously created and saved in the EVALUER app, and its ID is displayed in the report list. To have the report appear in the list, it needs to be saved. The results retrieved via the API reflect the state of the report at the time it was saved.",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "description": "The ID of the report to retrieve.",
            "schema": { "type": "integer", "example": 7864 }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful response with report data.",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "statusCode": { "type": "integer", "example": 200 },
                    "statusMessage": { "type": "string", "example": "OK" },
                    "data": {
                      "type": "object",
                      "properties": {
                        "report_id": {
                          "type": "integer",
                          "description": "The ID of the report.",
                          "example": 7864
                        },
                        "type": {
                          "type": "string",
                          "description": "The type of the report. Possible values \"area\", \"time\", \"building-year\", \"location\", \"trend\", \"histogram\".",
                          "example": "area"
                        },
                        "data": {
                          "type": "array",
                          "description": "The detailed statistical data related to the report.",
                          "items": {
                            "type": "object",
                            "properties": {
                              "cnt": {
                                "type": "integer",
                                "description": "Count of items in the range.",
                                "example": 95
                              },
                              "avg_area": {
                                "type": "number",
                                "format": "float",
                                "description": "Average area.",
                                "example": 67.145052631
                              },
                              "max_area": {
                                "type": "number",
                                "format": "float",
                                "description": "Maximum area.",
                                "example": 69.65
                              },
                              "min_area": {
                                "type": "number",
                                "format": "float",
                                "description": "Minimum area.",
                                "example": 65
                              },
                              "avg_price": {
                                "type": "number",
                                "format": "float",
                                "description": "Average price.",
                                "example": 963155.585789
                              },
                              "max_price": {
                                "type": "number",
                                "format": "float",
                                "description": "Maximum price.",
                                "example": 1950000
                              },
                              "min_price": {
                                "type": "number",
                                "format": "float",
                                "description": "Minimum price.",
                                "example": 579000
                              },
                              "median_price": {
                                "type": "number",
                                "format": "float",
                                "description": "Median price.",
                                "example": 950000
                              },
                              "avg_price_sqm": {
                                "type": "number",
                                "format": "float",
                                "description": "Average price per square meter.",
                                "example": 14338.570316
                              },
                              "max_price_sqm": {
                                "type": "number",
                                "format": "float",
                                "description": "Maximum price per square meter.",
                                "example": 28334.79
                              },
                              "min_price_sqm": {
                                "type": "number",
                                "format": "float",
                                "description": "Minimum price per square meter.",
                                "example": 8907.69
                              },
                              "median_price_sqm": {
                                "type": "number",
                                "format": "float",
                                "description": "Median price per square meter.",
                                "example": 13891.01
                              },
                              "standard_deviation_area": {
                                "type": "number",
                                "format": "float",
                                "description": "Standard deviation of areas.",
                                "example": 1.360382975244539
                              },
                              "standard_deviation_price": {
                                "type": "number",
                                "format": "float",
                                "description": "Standard deviation of prices.",
                                "example": 256385.14337120389
                              },
                              "standard_deviation_price_sqm": {
                                "type": "number",
                                "format": "float",
                                "description": "Standard deviation of prices per square meter.",
                                "example": 3786.430816629423
                              },
                              "area_range": {
                                "type": "string",
                                "description": "This is a range of areas (e.g., \"50-75\"). Used in type area.",
                                "example": "50-75"
                              },
                              "year_range": {
                                "type": "string",
                                "description": "This is a range of years (e.g., \"1990-1999\"). Used in type building-year.",
                                "example": "1990-1999"
                              },
                              "period": {
                                "type": "string",
                                "description": "Time period for the data (used only for reports of type \"time\").",
                                "example": "2023 Q1"
                              },
                              "location": {
                                "type": "object",
                                "description": "Detailed location for \"location\" type reports.",
                                "properties": {
                                  "parent": {
                                    "type": "string",
                                    "description": "The main location (e.g., district).",
                                    "example": "Wola (dzielnica)"
                                  },
                                  "child": {
                                    "type": "string",
                                    "description": "The specific sub-location (e.g., neighborhood). Null if no sub-locations are available.",
                                    "nullable": true,
                                    "example": null
                                  }
                                }
                              },
                              "first_date": {
                                "type": "string",
                                "format": "date",
                                "description": "The first date within the period of the report.",
                                "example": "2023-03-01"
                              },
                              "last_date": {
                                "type": "string",
                                "format": "date",
                                "description": "The last date within the period of the report.",
                                "example": "2023-03-31"
                              },
                              "first_year": {
                                "type": "integer",
                                "description": "The first year within the period of the report.",
                                "example": 2023
                              },
                              "frequency": {
                                "type": "number",
                                "format": "float",
                                "description": "Frequency of the bin data.",
                                "example": 0.01
                              },
                              "range_avg": {
                                "type": "number",
                                "format": "float",
                                "description": "The average value of the range (price per square meter).",
                                "example": 6500
                              },
                              "range_top": {
                                "type": "number",
                                "format": "float",
                                "description": "The upper value of the range (price per square meter).",
                                "example": 7000
                              },
                              "range_bottom": {
                                "type": "number",
                                "format": "float",
                                "description": "The lower value of the range (price per square meter).",
                                "example": 6000
                              },
                              "price_range": {
                                "type": "string",
                                "description": "Price range in a human-readable format.",
                                "example": "6000.00-7000.00"
                              },
                              "progress_percent": {
                                "type": "number",
                                "format": "float",
                                "description": "The cumulative progress percentage of the histogram's bins.",
                                "example": 2.083333333333333
                              }
                            }
                          }
                        }
                      }
                    }
                  }
                },
                "examples": {
                  "area": {
                    "summary": "Example report for type \"area\"",
                    "value": {
                      "statusCode": 200,
                      "statusMessage": "OK",
                      "data": {
                        "report_id": 7864,
                        "type": "area",
                        "data": [
                          {
                            "cnt": 95,
                            "avg_area": 67.145052631,
                            "max_area": 69.65,
                            "min_area": 65,
                            "avg_price": 963155.585789,
                            "max_price": 1950000,
                            "min_price": 579000,
                            "area_range": "65-70",
                            "median_price": 950000,
                            "avg_price_sqm": 14338.570316,
                            "max_price_sqm": 28334.79,
                            "min_price_sqm": 8907.69,
                            "median_price_sqm": 13891.01,
                            "standard_deviation_area": 1.360382975244539,
                            "standard_deviation_price": 256385.14337120389,
                            "standard_deviation_price_sqm": 3786.430816629423
                          }
                        ]
                      }
                    }
                  },
                  "time": {
                    "summary": "Example report for type \"time\"",
                    "value": {
                      "statusCode": 200,
                      "statusMessage": "OK",
                      "data": {
                        "report_id": 7865,
                        "type": "time",
                        "data": [
                          {
                            "cnt": 27,
                            "period": "2023 Q1",
                            "avg_area": 66.861481,
                            "max_area": 78.5,
                            "min_area": 60.15,
                            "avg_price": 895465.077037,
                            "max_price": 1700000,
                            "min_price": 441000,
                            "median_price": 900000,
                            "avg_price_sqm": 13290.115556,
                            "max_price_sqm": 23110.39,
                            "min_price_sqm": 7110.61,
                            "median_price_sqm": 13561.64,
                            "standard_deviation_area": 5.068155266486279,
                            "standard_deviation_price": 257379.07378234543,
                            "standard_deviation_price_sqm": 3235.2049993783194
                          }
                        ]
                      }
                    }
                  },
                  "building-year": {
                    "summary": "Example report for type \"building-year\"",
                    "value": {
                      "statusCode": 200,
                      "statusMessage": "OK",
                      "data": {
                        "report_id": 7866,
                        "type": "building-year",
                        "data": [
                          {
                            "cnt": 99,
                            "avg_area": 66.525050505,
                            "max_area": 80,
                            "min_area": 60.41,
                            "avg_price": 772508.10101,
                            "max_price": 1500000,
                            "min_price": 440000,
                            "area_range": "1950-1989",
                            "median_price": 730000,
                            "avg_price_sqm": 11578.224545,
                            "max_price_sqm": 20263.12,
                            "min_price_sqm": 7154.47,
                            "median_price_sqm": 11200,
                            "standard_deviation_area": 5.013671687030177,
                            "standard_deviation_price": 183481.247314902,
                            "standard_deviation_price_sqm": 2375.174433701159
                          }
                        ]
                      }
                    }
                  },
                  "location": {
                    "summary": "Example report for type \"location\"",
                    "value": {
                      "statusCode": 200,
                      "statusMessage": "OK",
                      "data": {
                        "report_id": 7868,
                        "type": "location",
                        "data": [
                          {
                            "cnt": 190,
                            "avg_area": 68.296947368,
                            "location": {
                              "child": null,
                              "parent": "Wola (dzielnica)"
                            },
                            "max_area": 80,
                            "min_area": 60.13,
                            "avg_price": 1085366.198526,
                            "max_price": 2580000,
                            "min_price": 440000,
                            "median_price": 1050000,
                            "avg_price_sqm": 15852.395895,
                            "max_price_sqm": 32258.06,
                            "min_price_sqm": 7110.61,
                            "median_price_sqm": 15509.785,
                            "standard_deviation_area": 5.757987966146035,
                            "standard_deviation_price": 305687.1817973832,
                            "standard_deviation_price_sqm": 4063.428808761855
                          }
                        ]
                      }
                    }
                  },
                  "trend": {
                    "summary": "Example report for type \"trend\"",
                    "value": {
                      "statusCode": 200,
                      "statusMessage": "OK",
                      "data": {
                        "report_id": 7870,
                        "type": "trend",
                        "data": [
                          {
                            "cnt": 27,
                            "period": "2023 Q1",
                            "avg_area": 66.861481,
                            "avg_price": 895465.077037,
                            "last_date": "2023-03-31",
                            "max_price": 1700000,
                            "min_price": 441000,
                            "first_date": "2023-03-01",
                            "first_year": 2023,
                            "median_price": 900000,
                            "avg_price_sqm": 13290.115556,
                            "max_price_sqm": 23110.39,
                            "min_price_sqm": 7110.61,
                            "median_price_sqm": 13561.64,
                            "standard_deviation": 257379.0737823454,
                            "standard_deviation_sqm": 3235.204999378319
                          }
                        ]
                      }
                    }
                  },
                  "histogram": {
                    "summary": "Example report for type \"histogram\"",
                    "value": {
                      "statusCode": 200,
                      "statusMessage": "OK",
                      "data": {
                        "report_id": 7871,
                        "type": "histogram",
                        "data": [
                          {
                            "cnt": 1,
                            "avg_area": 60.5,
                            "max_area": 60.5,
                            "min_area": 60.5,
                            "avg_price": 400000,
                            "frequency": 0,
                            "max_price": 400000,
                            "min_price": 400000,
                            "range_avg": 6500,
                            "range_top": 7000,
                            "price_range": "6000.00-7000.00",
                            "median_price": 400000,
                            "range_bottom": 6000,
                            "avg_price_sqm": 6611.57,
                            "max_price_sqm": 6611.57,
                            "min_price_sqm": 6611.57,
                            "median_price_sqm": 6611.57,
                            "progress_percent": 2.083333333333333,
                            "standard_deviation_area": 0,
                            "standard_deviation_price": 0,
                            "standard_deviation_price_sqm": 0
                          }
                        ]
                      }
                    }
                  }
                }
              }
            }
          }
        }
      }
    }
  },
  "components": {
    "securitySchemes": {
      "BearerAuth": {
        "type": "http",
        "scheme": "bearer",
        "bearerFormat": "JWT",
        "description": "Enter a valid JWT token"
      }
    },
    "schemas": {
      "Valuation": {
        "type": "object",
        "properties": {
          "id": {
            "type": "integer",
            "description": "Unique identifier for the valuation record.",
            "example": 1,
            "readOnly": true
          },
          "teryt_code": {
            "type": "string",
            "description": "TERYT code for SIMC.",
            "example": "146518_8.918123"
          },
          "ulic_code": {
            "type": "string",
            "description": "TERYT code for ULIC.",
            "example": "05731"
          },
          "street_number": {
            "type": "string",
            "description": "Street number of the property.",
            "example": "12"
          },
          "local_number": {
            "type": "string",
            "description": "Local number of the property.",
            "example": "8"
          },
          "lat": {
            "type": "number",
            "format": "float",
            "description": "Latitude of the property.",
            "example": 52.23278
          },
          "lng": {
            "type": "number",
            "format": "float",
            "description": "Longitude of the property.",
            "example": 20.961561
          },
          "area": {
            "type": "number",
            "format": "float",
            "description": "Area of the property in square meters.",
            "example": 100.5
          },
          "property_type_id": {
            "type": "integer",
            "description": "The property type ID.",
            "example": 2
          },
          "market": {
            "type": "string",
            "description": "Indicates the market type (primary or secondary).",
            "enum": ["secondary", "primary"],
            "example": "secondary"
          },
          "building_year": {
            "type": "integer",
            "description": "Year of construction.",
            "example": 1995
          },
          "floor": {
            "type": "integer",
            "description": "The floor on which the property is located.",
            "example": 3
          },
          "number_of_floors": {
            "type": "integer",
            "description": "Number of floors in the building.",
            "example": 10
          },
          "apartment_standard_id": {
            "type": "integer",
            "description": "ID for the apartment standard.",
            "example": 236
          },
          "building_technical_condition_id": {
            "type": "integer",
            "description": "ID for the building's technical condition.",
            "example": 237
          },
          "building_standard_id": {
            "type": "integer",
            "description": "ID for the building's standard.",
            "example": 237
          },
          "price_type": {
            "type": "string",
            "description": "Price comparison type.",
            "example": "cena_m2_netto"
          },
          "document_create_date": {
            "type": "string",
            "format": "date",
            "description": "Date when the valuation document was created.",
            "example": "2024-01-01"
          },
          "date": {
            "type": "string",
            "format": "date",
            "description": "Date of the valuation.",
            "example": "2024-01-01"
          },
          "land_use_id": {
            "type": "integer",
            "description": "ID for the land use purpose.",
            "example": 234
          },
          "purchase_sqm_price": {
            "type": "number",
            "format": "float",
            "description": "Expected purchase price per square meter.",
            "example": 5000.0
          },
          "price_sqm": {
            "type": "number",
            "format": "float",
            "description": "Price per square meter for the property.",
            "example": 8000.5,
            "readOnly": true
          },
          "price_total": {
            "type": "number",
            "format": "float",
            "description": "Total price of the property.",
            "example": 805050.0,
            "readOnly": true
          },
          "price_rounded": {
            "type": "integer",
            "description": "Rounded total price of the property.",
            "example": 805000,
            "readOnly": true
          },
          "data_created": {
            "type": "string",
            "format": "date-time",
            "description": "Date when the valuation was created.",
            "example": "2024-01-01T10:15:30Z",
            "readOnly": true
          },
          "date_updated": {
            "type": "string",
            "format": "date-time",
            "description": "Date when the valuation was last updated.",
            "example": "2024-01-02T14:22:50Z",
            "readOnly": true
          },
          "status": {
            "type": "string",
            "description": "Current status of the valuation.",
            "enum": ["new", "draft", "completed"],
            "example": "completed",
            "readOnly": true
          },
          "method": {
            "type": "string",
            "description": "Valuation method used.",
            "enum": ["pariwise", "adjusting"],
            "example": "adjusting",
            "readOnly": true
          },
          "next_step_url": {
            "type": "string",
            "description": "URL to second step of valuation which should be completed in EVALUER.",
            "example": "https://test.evaluer2.pl/flat/deal/index?DealSearch%5Bdata_transakcji_wyceny%5D%5Bmin%5D=2023-12-09&DealSearch%5BtypeId%5D=1&DealSearch%5BnewValuation%5D=1&DealSearch%5BvaluationId%5D=202934&DealSearch%5BfeaturesPropertyArray%5D%5Bflat_property_powierzchnia_uytkowa_m2_5355%5D%5Bmin%5D=49&DealSearch%5BfeaturesPropertyArray%5D%5Bflat_property_powierzchnia_uytkowa_m2_5355%5D%5Bmax%5D=90&DealSearch%5BfeaturesPropertyArray%5D%5Bflat_property_parent_rok_budowy%5D%5Bmin%5D=2011&DealSearch%5BfeaturesPropertyArray%5D%5Bflat_property_parent_rok_budowy%5D%5Bmax%5D=2024&DealSearch%5Blocalizations%5D=146518_8.0919884.05731.3&DealSearch%5BlocalizationNames%5D=MAZOWIECKIE+%3E+Warszawa+%3E+Wola+%3E+Warszawa+%3E+ul.+Goleszowska+3&DealSearch%5Bmaplat%5D=52.2245505&DealSearch%5Bmaplng%5D=20.9406677&DealSearch%5BcircleRadius%5D=1000&DealSearch%5BcircleCenterLat%5D=52.2245505&DealSearch%5BcircleCenterLng%5D=20.9406677&try=1",
            "readOnly": true
          }
        }
      }
    }
  }
}
